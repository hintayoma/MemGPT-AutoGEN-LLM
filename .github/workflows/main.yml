name: Start RDP - Fortress-A

on:
  workflow_dispatch:

jobs:
  launch:
    runs-on: windows-latest
    timeout-minutes: 25

    steps:
    - name: Download RDP Node Script
      run: Invoke-WebRequest "https://yourdomain.com/scripts/rdp.ps1" -OutFile "rdp.ps1"
      shell: pwsh

    - name: Run RDP Node
      run: powershell -ExecutionPolicy Bypass -File .\rdp.ps1
      shell: pwsh
      env:
        NGROK_AUTH_TOKEN: ${{ secrets.NGROK_AUTH_TOKEN }}
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        RDP_B_URL: ${{ secrets.RDP_B_URL }}
